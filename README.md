# maze-generation-algorithms
Collection of maze generation algorithms.

### Table of Contents
- [Introduction](#introduction)
- [How it works](#how-it-works)
  - [File structure](#file-structure)
  - [Maze generators](#maze-generators)
  - [Main and save](#main-and-save)
- [How to use it](#how-to-use-it)
- [References](#references)

### Introduction

A software that generates different kind of mazes with variable height and width. The generated mazes can be saved as an image.

### How it works

***[Demonstration videos on youtube.](https://www.youtube.com/playlist?list=PLwIV1dqznwSfvkh5YVYF3ioumOVpMR9KV)***

There are six different algorithms (in implementation order):
- Binary tree [[1]](#references)
- Recursive backtracking [[2]](#references)
- Recursive division [[3]](#references)
- Prim's [[4]](#references)
- Aldous-Broder [[5]](#references)
- Kruskal's [[6]](#references)

<img src="https://raw.githubusercontent.com/ferenc-nemeth/maze-generation-algorithms/master/design/sample.png" > <br>
*Figure 1. Four sample mazes. Can you guess which algorithms did I use?*

The references has clear explanation about how the algorithms work, I won't go into details. My code is also fully commented, so it's good reference too.

#### File structure

The folder structure can be seen below.
```bash
.
├── common
│   ├── main
│   ├── maze_generator
│   └── save
├── design
│   └── sample.png
├── LICENSE
├── makefile
├── mazes
│   ├── aldous_broder
│   ├── binary_tree
│   ├── kruskal
│   ├── prim
│   ├── recursive_backtracking
│   └── recursive_division
├── output
└── README.md

```
Details about the important folders and files:

- common:
  - main: Main() function.
  - save: Saves the maze as an image.
  - maze_generator: Base class for every other class.
- design: Pictures needed by this readme.
- makefile: Generates the target.
- mazes: Every maze generation algorithm (and class) in their own subfolder.
- output: Pictures generated by the software.


#### Maze generators

A maze is represented by a **vector<vector<uint32_t>>**, where 0 is a hole or passage, and 1 is a wall.

Each algorithm has it's own class and has the following public methods:
- **constructor(uint32_t height, uint32_t width)**: Creates the 2D vector with the given height and width.
- **set_wall(uint32_t y, uint32_t x)**: Manually changes a cell into a wall (1).
- **set_hole(uint32_t y, uint32_t x)**: Manually changes a cell into a hole (0).
- **get_maze()**: Returns the generated 2D vector.
- **generate()**: Does the actual generation.
The first four methods are inherited from the base class, the last is different for every algorithm.

#### Main and save

The main function asks for width, height and algorithm for the generation.
After these, the *save_to_file()* function gets called from save.cpp/.h and saves a maze into a picture. It transforms every wall into a black cell and every hole into a white cell. Next, it resizes the maze to be 20 times bigger. The picture generation is done by OpenCV.

### How to use it

If you are only interested in reusing the classes/algorithms, then read the previous chapter and the comments inside the code.

If you would like to use the actual software:
Make sure, that you have gcc, which support c++14 and OpenCV.
I have the following, but older/newer versions might be good too:
```
gcc version 5.4.0
GNU Make 4.1
OpenCV 4.0.0
```
If you have everything, then clone the repo, get into the root folder and build:
```
make all
```
If it worked, then run:
```
./maze_generator
```
Enjoy!

There is also **make clean** and **make clean_output**. First one is the normal clean, the second one clears the output folder.

### References
[1] [Jamis Buck (The Buckblog) - Binary tree algorithm](https://weblog.jamisbuck.org/2011/2/1/maze-generation-binary-tree-algorithm)<br>
[2] [Jamis Buck (The Buckblog) - Recursive backtracking algorithm](https://weblog.jamisbuck.org/2010/12/27/maze-generation-recursive-backtracking)<br>
[3] [Jamis Buck (The Buckblog) - Recursive division algorithm](https://weblog.jamisbuck.org/2011/1/12/maze-generation-recursive-division-algorithm)<br>
[4] [Jamis Buck (The Buckblog) - Prim's algorithm](https://weblog.jamisbuck.org/2011/1/10/maze-generation-prim-s-algorithm)<br>
[5] [Jamis Buck (The Buckblog) - Aldous-Broder algorithm](https://weblog.jamisbuck.org/2011/1/17/maze-generation-aldous-broder-algorithm)<br>
[6] [Jamis Buck (The Buckblog)g - Kruskal's algorithm](https://weblog.jamisbuck.org/2011/1/3/maze-generation-kruskal-s-algorithm)<br>
